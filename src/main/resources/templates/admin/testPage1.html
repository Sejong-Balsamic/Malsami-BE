<!-- src/main/resources/templates/admin/testPage1.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head(title='Test Page')">
  <!-- Fireworks CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/fireworks-js/2.10.7/fireworks.css" rel="stylesheet">
  <!-- Semantic UI CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">

  <!-- ì¶”ê°€ì ì¸ ìŠ¤íƒ€ì¼ -->
  <style>
    /* ê¸°ë³¸ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
    .ui.stackable.container {
      position: relative;
      overflow: visible; /* ì• ë‹ˆë©”ì´ì…˜ì´ ì˜ë¦¬ì§€ ì•Šë„ë¡ ì„¤ì • */
      padding: 2em;
      background: #f9f9f9;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* ë©”ì¸ ì¹´ë“œì— ë¶ˆíƒ€ëŠ” íš¨ê³¼ë¥¼ ì£¼ê¸° ìœ„í•œ í´ë˜ìŠ¤ */
    .burning-border {
      position: relative;
      overflow: visible;
      background: linear-gradient(135deg, #FFD700, #FFA500);
      border: 2px solid #FF8C00;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    /* ë©”ì¸ ë¶ˆê½ƒ íš¨ê³¼ ê°•í™” */
    .burning-border::before {
      content: '';
      position: absolute;
      left: -40px;
      right: -40px;
      top: -80px;
      bottom: -40px;
      background: radial-gradient(circle, rgba(255, 215, 0, 0.8) 0%, rgba(255, 140, 0, 0.6) 50%, rgba(255, 69, 0, 0.4) 100%);
      filter: blur(15px);
      opacity: 0;
      transform-origin: bottom;
      animation: mainFlamesEnhanced 1s ease-out infinite alternate;
      z-index: -2;
    }

    @keyframes mainFlamesEnhanced {
      0% {
        transform: scaleY(0.9) translateY(5px);
        opacity: 0.8;
      }
      100% {
        transform: scaleY(1.1) translateY(-5px);
        opacity: 1;
      }
    }

    /* ì¶”ê°€ ë¶ˆê½ƒ ë ˆì´ì–´ */
    .burning-border::after {
      content: '';
      position: absolute;
      left: -35px;
      right: -35px;
      top: -70px;
      bottom: -35px;
      background:
          radial-gradient(circle at 25% top, rgba(255, 215, 0, 0.9) 0%, transparent 60%),
          radial-gradient(circle at 50% top, rgba(255, 140, 0, 0.7) 0%, transparent 60%),
          radial-gradient(circle at 75% top, rgba(255, 215, 0, 0.9) 0%, transparent 60%);
      filter: blur(10px);
      opacity: 0;
      transform-origin: bottom;
      animation: sparkFlamesEnhanced 0.8s ease-out infinite alternate;
      z-index: -1;
    }

    @keyframes sparkFlamesEnhanced {
      0% {
        transform: scaleY(0.85) translateY(5px);
        opacity: 0.7;
      }
      100% {
        transform: scaleY(1.15) translateY(-5px);
        opacity: 0.9;
      }
    }

    /* Shake ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ */
    .burning-border.active {
      animation: shake 0.3s ease-in-out infinite;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-2px); }
      75% { transform: translateX(2px); }
    }

    /* í”„ë¡œí•„ ì´ë¯¸ì§€ ì• ë‹ˆë©”ì´ì…˜ */
    .image-animate {
      transition: transform 0.5s ease, opacity 0.5s ease;
    }

    .image-animate.fade-out-enlarge {
      transform: scale(1.2); /* 20% í™•ëŒ€ */
      opacity: 0; /* ì„œì„œíˆ ì‚¬ë¼ì§ */
    }

    /* ë¶ˆíƒ€ëŠ” í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
    #bountyAmount {
      position: relative;
      z-index: 1;
      color: #FFD700; /* ê¸ˆìƒ‰ìœ¼ë¡œ ë³€ê²½ */
      font-weight: bold;
      text-shadow:
          0 0 5px rgba(255, 215, 0, 0.8),
          0 0 10px rgba(255, 140, 0, 0.6),
          0 0 20px rgba(255, 69, 0, 0.4);
      animation: textBurnEnhanced 0.6s ease-in-out infinite alternate;
    }

    @keyframes textBurnEnhanced {
      0% { transform: scale(1) rotate(-1deg); }
      50% { transform: scale(1.05) rotate(1deg); }
      100% { transform: scale(1) rotate(-1deg); }
    }

    /* ë¶ˆíƒ€ëŠ” í…ìŠ¤íŠ¸ ë°°ê²½ */
    #bountyAmount::before {
      content: '';
      position: absolute;
      left: -20px;
      right: -20px;
      top: -15px;
      bottom: -15px;
      background:
          linear-gradient(to top,
          rgba(255, 215, 0, 0.6),
          rgba(255, 140, 0, 0.4) 50%,
          rgba(255, 69, 0, 0.2)
          );
      filter: blur(12px);
      z-index: -1;
      animation: textFlamesPulse 0.8s ease-in-out infinite alternate;
    }

    @keyframes textFlamesPulse {
      0% {
        transform: scaleY(0.9);
        opacity: 0.7;
      }
      100% {
        transform: scaleY(1.1);
        opacity: 0.9;
      }
    }

    /* ì¶”ê°€ ë””ìì¸ ìš”ì†Œ: ì—½ì „ ì´ëª¨ì§€ í”Œë¡œíŒ… */
    .ui.centered.card::before {
      content: 'ğŸ’°'; /* ì—½ì „ ê´€ë ¨ ì´ëª¨ì§€ ì¶”ê°€ */
      position: absolute;
      top: -30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2em;
      color: #FFD700;
      animation: floatEmoji 2s ease-in-out infinite;
      z-index: 1;
    }

    @keyframes floatEmoji {
      0% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(-10px); }
      100% { transform: translateX(-50%) translateY(0); }
    }

    /* Fireworks ë° Particles ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
    #fireworks, #particles-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999; /* fireworksë³´ë‹¤ ë‚®ì€ ê°’ */
    }

    #fireworks {
      z-index: 1000; /* ê¸°ì¡´ 9999ì—ì„œ ë‚®ì¶˜ ê°’ */
    }

    #particles-container {
      z-index: 999;
    }
  </style>
</head>
<body>
<!-- í—¤ë” -->
<div th:replace="fragments/header :: header"></div>

<!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
<div class="ui stackable container">
  <h1 class="ui header">Test Page1</h1>

  <!-- í˜„ìƒê¸ˆ ì„¹ì…˜ -->
  <div class="ui segment">
    <div class="ui centered card burning-border" style="width: 100%; max-width: 500px; margin: 2em auto; padding-top: 2em; position: relative;">
      <div class="content">
        <div class="ui grid">
          <!-- í”„ë¡œí•„ ì´ë¯¸ì§€ -->
          <div class="four wide column">
            <div class="ui circular image image-animate" style="width: 80px; height: 80px; overflow: hidden;">
              <img id="profileImage" class="image-animate" src="/images/yeopjeon_hunter.png" alt="profile">
            </div>
          </div>

          <!-- í† ê¸€ ë° í˜„ìƒê¸ˆ í…ìŠ¤íŠ¸ -->
          <div class="twelve wide column">
            <div class="ui massive toggle checkbox" style="margin-bottom: 1em;">
              <input type="checkbox" id="bountyToggle">
              <label>ì—½ì „ í˜„ìƒê¸ˆ</label>
            </div>
            <div class="ui red massive text" id="bountyAmount" style="display: none;">
              500 ì—½ì „
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ë¶ˆê½ƒ íš¨ê³¼ë¥¼ ìœ„í•œ ì»¨í…Œì´ë„ˆ -->
  <div id="fireworks"></div>
  <div id="particles-container"></div>
</div>

<!-- í‘¸í„° -->
<div th:replace="~{fragments/footer :: footer}"></div>

<!-- í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fireworks-js/2.10.7/fireworks.js"></script>
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

<!-- Fireworks JS -->
<script src="https://unpkg.com/fireworks-js@2.x/dist/index.umd.js"></script>

<script th:inline="javascript">
  $(document).ready(function() {
    // Semantic UI ì²´í¬ë°•ìŠ¤ ì´ˆê¸°í™”
    $('.ui.checkbox').checkbox();

    // Fireworks ì„¤ì •
    const container = document.querySelector('#fireworks');
    const fireworksInstance = new Fireworks.default(container, {
      rocketsPoint: { min: 0, max: 100 }, // ì „ì²´ í™”ë©´ì—ì„œ ë°œì‚¬
      hue: { min: 0, max: 360 }, // ë‹¤ì–‘í•œ ìƒ‰ìƒ
      delay: { min: 15, max: 30 }, // ë°œì‚¬ ê°„ê²©
      speed: 2, // ì†ë„ ì¡°ì ˆ
      acceleration: 1.05, // ê°€ì†ë„
      friction: 0.98, // ë§ˆì°°
      gravity: 1.5, // ì¤‘ë ¥
      particles: 100, // íŒŒí‹°í´ ìˆ˜ ì¦ê°€
      trace: 3, // íŠ¸ë ˆì¼ ê¸¸ì´
      explosion: 10, // í­ë°œ ê°•ë„
      autoresize: true,
      brightness: { min: 50, max: 80 },
      flickering: 50, // ê¹œë¹¡ì„ ë¹ˆë„
      traceSpeed: 5, // íŠ¸ë ˆì¼ ì†ë„
      boundaries: {
        x: 50,
        y: 50,
        width: container.clientWidth - 100,
        height: container.clientHeight - 100
      },
    });

    // Particles.js ì„¤ì •
    particlesJS("particles-container", {
      "particles": {
        "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
        "color": { "value": "#FFD700" }, /* ê¸ˆìƒ‰ìœ¼ë¡œ ë³€ê²½ */
        "shape": {
          "type": "circle",
          "stroke": { "width": 0, "color": "#000000" }
        },
        "opacity": {
          "value": 0.8,
          "random": false,
          "anim": { "enable": true, "speed": 1, "opacity_min": 0.5, "sync": false }
        },
        "size": { "value": 3, "random": true, "anim": { "enable": false } },
        "move": {
          "enable": true,
          "speed": 2,
          "direction": "none",
          "random": true,
          "straight": false,
          "out_mode": "out"
        }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": {
          "onhover": { "enable": false },
          "onclick": { "enable": false },
          "resize": true
        }
      },
      "retina_detect": true
    });

    const bountyToggle = $('#bountyToggle');
    const bountyAmount = $('#bountyAmount');
    const mainCard = $('.ui.centered.card');
    const profileImage = $('#profileImage');

    bountyToggle.on('change', function() {
      const isChecked = $(this).is(':checked');
      if (isChecked) {
        bountyAmount.fadeIn();
        mainCard.addClass('active'); // shake ì• ë‹ˆë©”ì´ì…˜ ì ìš©
        fireworksInstance.start();
        // í”„ë¡œí•„ ì´ë¯¸ì§€ ì• ë‹ˆë©”ì´ì…˜ ì ìš©
        profileImage.addClass('fade-out-enlarge');
      } else {
        bountyAmount.fadeOut();
        mainCard.removeClass('active'); // shake ì• ë‹ˆë©”ì´ì…˜ ì œê±°
        fireworksInstance.stop();
        // í”„ë¡œí•„ ì´ë¯¸ì§€ ì• ë‹ˆë©”ì´ì…˜ ì œê±°
        profileImage.removeClass('fade-out-enlarge');
      }
    });
  });
</script>
</body>
</html>
